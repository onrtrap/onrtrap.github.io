<!DOCTYPE html>
<html>
<head>
    <title>Monster Generator</title>
    <style>
        body{
            background-color: black;
            color: white;
        }
    </style>
</head>
<body>
    <h1>Monster Generator</h1>
    <button onclick="generateMonster();">Generate Monster</button>
    <div id="monster"></div>
    <canvas id="monsterCanvas">

    </canvas>

    <script>
         var img = new Image();
      
        function generateMonster() {
            var monsterNames = ["Slime", "Goblin", "Dragon", "Skeleton"];
            var monsterName = monsterNames[Math.floor(Math.random() * monsterNames.length)];

            if(monsterName == "Skeleton"){
            img.src= 'docs/assets/images/skele.png';
        }
            else if(monsterName == "Slime"){
            img.src= 'docs/assets/images/slime.png';
        }
        else if(monsterName == "Goblin"){
            img.src= 'docs/assets/images/skele.png';
        }
        else if(monsterName == "Dragon"){
            img.src= 'docs/assets/images/dragon.png';
        }

        img.onload = function() {
            drawImage(this);

            randomizeColors();
        };

       
            var monsterHP = Math.floor(Math.random() * 100) + 1;
            var monsterSTR = Math.floor(Math.random() * 100) + 1;
            var monsterDEF = Math.floor(Math.random() * 100) + 1;
            var monsterINT = Math.floor(Math.random() * 100) + 1;
            var monsterWILL = Math.floor(Math.random() * 100) + 1;
            var monsterSPD = Math.floor(Math.random() * 100) + 1;

            var monsterDiv = document.getElementById("monster");
            monsterDiv.innerHTML = "<h2>" + monsterName + "</h2>"
                + "<p>HP: " + monsterHP + "</p>"
                + "<p>STR: " + monsterSTR + "</p>"
                + "<p>DEF: " + monsterDEF + "</p>"
                + "<p>INT: " + monsterINT + "</p>"
                + "<p>WILL: " + monsterWILL + "</p>"
                + "<p>SPD: " + monsterSPD + "</p>";
        }

        function drawImage(img) {
            var canvas = document.getElementById('monsterCanvas');
            var ctx = canvas.getContext('2d');
            canvas.width = img.width;
            canvas.height = img.height;
            ctx.drawImage(img, 0, 0, img.width, img.height);
        }

        function randomizeColors() {
            var canvas = document.getElementById('monsterCanvas');
            var ctx = canvas.getContext('2d', {willReadFrequently: true});
            var imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);
            var data = imageData.data;
            var randomColorRPrim = Math.random() * 100;
            var randomColorGPrim = Math.random() * 100;
            var randomColorBPrim = Math.random() * 100;

            if(randomColorRPrim <= 30)
            randomColorRPrim += 70;
            else if(randomColorRPrim >= 220)
            randomColorRPrim -= 20;
            
            if(randomColorGPrim <= 30)
            randomColorGPrim += 70;
            else if(randomColorGPrim >= 220)
            randomColorRPrim -= 20;
            
            if(randomColorBPrim <= 30)
            randomColorBPrim += 70;
            else if(randomColorGPrim >= 220)
            randomColorRPrim -= 20;
           
            var randomColorRSec = Math.random() * 100;
            var randomColorGSec = Math.random() * 100;
            var randomColorBSec = Math.random() * 100;

            if(randomColorRSec <= 30)
            randomColorRSec += 70;
            else if(randomColorRSec >= 220)
            randomColorRSec -= 20;
            
            if(randomColorGSec <= 30)
            randomColorGSec += 70;
            else if(randomColorGSec >= 220)
            randomColorRSec -= 20;
            
            if(randomColorBSec <= 30)
            randomColorBSec += 70;
            else if(randomColorGSec >= 220)
            randomColorRSec -= 20;
           

            for (var i = 0; i < data.length; i += 4) {
                if(data[i] == 255 && data[i + 1] == 255 && data[i + 2] == 255){
                data[i] = randomColorRPrim;     // red
                data[i + 1] = randomColorGPrim; // green
                data[i + 2] = randomColorBPrim; // blue
                }
                else if(data[i] == 255 && data[i + 1] == 31 && data[i + 2] == 0){
                data[i] = randomColorRSec;     // red
                data[i + 1] = randomColorGSec; // green
                data[i + 2] = randomColorBSec; // blue
                }
            }
            ctx.putImageData(imageData, 0, 0);
        }
    </script>
</body>
</html>